<div class="space-y-3" data-controller="patient-filter">
  <label for="patient_filter" class="block text-sm font-semibold text-gray-900 flex items-center gap-2">
    <svg class="w-4 h-4 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
    </svg>
    Paciente
  </label>
  <div class="relative">
    <select id="patient_filter"
            data-patient-filter-target="select"
            data-action="change->patient-filter#filterByPatient"
            class="appearance-none block w-full bg-white border-2 border-gray-200 rounded-xl px-4 py-2.5 pr-10 text-sm text-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 cursor-pointer hover:border-gray-300">
      <option value="">Todos los pacientes</option>
      <% Patient.for_select.each do |id, name, age| %>
        <option value="<%= id %>" <%= 'selected' if params[:patient].to_i == id %>>
          <%= name %> (<%= age %> a√±os)
        </option>
      <% end %>
    </select>
    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400">
      <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
      </svg>
    </div>
  </div>
</div>
