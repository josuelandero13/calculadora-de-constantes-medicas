<div class="space-y-2 col-span-2" data-controller="date-filter">
  <label class="block text-sm font-medium text-gray-700">Rango de fechas</label>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
    <div class="relative">
      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        <svg class="h-4 w-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
        </svg>
      </div>
      <input type="date"
             id="start_date"
             name="start_date"
             value="<%= params[:start_date] %>"
             data-date-filter-target="startDate"
             class="pl-10 block w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200">
    </div>

    <div class="relative">
      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
        <svg class="h-4 w-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
        </svg>
      </div>
      <input type="date"
             id="end_date"
             name="end_date"
             value="<%= params[:end_date] %>"
             data-date-filter-target="endDate"
             class="pl-10 block w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200">
    </div>

    <button type="button"
            data-action="click->date-filter#applyFilter"
            class="flex items-center justify-center space-x-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
      <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
      </svg>
      <span>Aplicar</span>
    </button>
  </div>

  <% if params[:start_date].present? || params[:end_date].present? %>
    <div class="text-xs text-gray-500 mt-1">
      <% if params[:start_date].present? && params[:end_date].present? %>
        Mostrando registros desde <%= l(params[:start_date].to_date, format: :long) %> hasta <%= l(params[:end_date].to_date, format: :long) %>
      <% elsif params[:start_date].present? %>
        Mostrando registros desde <%= l(params[:start_date].to_date, format: :long) %>
      <% else %>
        Mostrando registros hasta <%= l(params[:end_date].to_date, format: :long) %>
      <% end %>
    </div>
  <% end %>
</div>
